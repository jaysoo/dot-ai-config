// Parse sitemap and extract URLs
const fs = require('fs');

// Sitemap content from web search results
const sitemapContent = `https://nx.dev2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/advent-of-code2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/ai-chat2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/changelog2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/ci2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/community2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/company2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/conf2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/contact2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/contact/engineering2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/contact/sales2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/customers2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/enterprise2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/enterprise/security2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/enterprise/trial2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/extending-nx2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/launch-nx2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/nx-api2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/partners2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/plugin-registry2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/powerpack/license2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/powerpack/trial2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/solutions/engineering2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/solutions/leadership2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/solutions/management2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/solutions/platform2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/tutorials2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/whitepaper-fast-ci2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/ai2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/brands2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/blog2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/explore-nx/lessons-01-why-nx2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/explore-nx/lessons-02-run-tasks2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/explore-nx/lessons-03-cache-task-results2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/explore-nx/lessons-04-generate-code2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/explore-nx/lessons-05-automate-updating-dependencies2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-00-overview2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-01-nx-init2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-02-run-tasks2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-03-configure-cache2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-04-task-pipelines2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-05-implicit-dependencies2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-06-nx-cloud-setup2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-07-optimize-ci2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-08-remote-caching2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-09-debug-cache2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-10-nx-login2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-11-nx-agents2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-12-playwright-split2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next/lessons-13-outro2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/java2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/nx-cloud2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/podcast2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/powerpack2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/pricing2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/react2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/remote-cache2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/resources2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/webinar2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/epic-nx-release2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/explore-nx2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/courses/pnpm-nx-next2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/blog/advent-of-code-crystal-edition2025-06-03T12:27:18.820Zdaily0.7 https://nx.dev/blog/ahmed-elsakaan-podcast-32025-06-03T12:27:18.820Zdaily0.7`;

// Extract URLs using regex
const urlRegex = /https:\/\/nx\.dev[^\s]*?(?=\d{4}-\d{2}-\d{2}T)/g;
const urls = sitemapContent.match(urlRegex) || [];

// Get unique URLs and replace domain
const uniqueUrls = [...new Set(urls)].map(url => url.replace('https://nx.dev', 'https://canary.nx.dev'));

console.log(`Found ${uniqueUrls.length} unique URLs to check`);

// Write URLs to file for reference
fs.writeFileSync('.ai/urls-to-check.txt', uniqueUrls.join('\n'));

// Export for use
module.exports = { urls: uniqueUrls }; 